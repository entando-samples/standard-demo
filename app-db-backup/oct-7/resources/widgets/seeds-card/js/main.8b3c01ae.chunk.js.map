{"version":3,"sources":["assets/Framecredit-card.png","i18n/locales/index.js","i18n/i18n.js","auth/KeycloakContext.js","auth/KeycloakViews.js","components/__types__/keycloak.js","components/__types__/seedscard.js","components/SeedscardDetails.js","components/common/Notification.js","api/seedscard.js","components/SeedscardDetailsContainer.js","api/constants.js","helpers/widgetEvents.js","custom-elements/widgetEventTypes.js","custom-elements/SeedscardDetailsElement.js","index.js"],"names":["module","exports","en","resources","Object","keys","locales","reduce","acc","lang","translation","i18next","use","initReactI18next","init","fallbackLng","interpolation","escapeValue","KeycloakContext","React","createContext","AuthenticatedView","PropTypes","shape","initialized","bool","authenticated","children","keycloak","UnauthenticatedView","id","number","accountNumber","string","balance","userId","SeedscardDetails","classes","t","account","onDetail","cardname","header","className","SeedsCard__header","alt","SeedsCard__icon","src","seedscardIcon","SeedsCard__title","widgetNamePlaceholder","replace","c","toUpperCase","SeedsCard__value","substring","length","SeedsCard__action","onClick","accountID","SeedsCard","SeedsCard__balance","toString","SeedsCard__balanceCaption","rewardPoints","SeedsCard__balanceReward","SeedsCard__balanceRewardValue","defaultProps","compose","withStyles","display","height","background","padding","boxShadow","borderRadius","transition","alignItems","position","backgroundColor","fontWeight","fontSize","color","margin","lineHeight","right","top","withTheme","withTranslation","Alert","props","elevation","variant","autoHideDurations","success","error","info","Notification","passedStatus","status","message","onClose","isOpen","console","log","INFO","autoHideDuration","Snackbar","open","severity","SUCCESS","ERROR","setState","defaultOptions","token","window","entando","headers","Headers","Authorization","executeFetch","params","url","options","fetch","method","then","response","Promise","resolve","reject","Error","statusText","json","SeedscardDetailsContainer","state","loading","notificationStatus","notificationMessage","theme","createMuiTheme","closeNotification","bind","fetchData","this","firstCall","prevProps","changedAuth","onError","userID","idTokenParsed","preferred_username","process","endsWith","getSeedscardByUserID","catch","e","finally","ThemeProvider","Component","withKeycloak","WrappedComponent","Consumer","value","createWidgetEventPublisher","eventType","payload","eventId","widgetEvent","CustomEvent","detail","dispatchEvent","publishWidgetEvent","OUTPUT_EVENT_TYPES","transactionsDetail","getKeycloakInstance","ATTRIBUTES","SeedscardDetailsElement","args","mountPoint","unsubscribeFromKeycloakEvent","oldValue","newValue","values","includes","render","document","createElement","appendChild","eventHandler","locale","getAttribute","changeLanguage","addEventListener","removeEventListener","ReactComponent","customEvent","details","ReactDOM","Provider","HTMLElement","customElements","define","rootElement","getElementById"],"mappings":"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","file":"static/js/main.8b3c01ae.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAjCAYAAADv0ujUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGxSURBVHgB1di7SsNQHMfx30lT7SAiLoKLEXEoglacHMT6BvoIfQIpgqt2FcShD2LfwNBBcBCKSwUFlbp5oXaIlrQ55l+sIK1JTi4nyRfOcpLAh+SEXBgkd9uq7lvcOgaY3u33S+uL5bbI8QwSa7aqR3yA/Ymj0bWsHRG0NPAIdpggWoGE/sVSDIXJTOYcHosc7Ij9jRfhsUjB3rA2l1sVeCyyNSyCXVkou+43LBJwVFgqdHCUWCpUcNRYKjSwDCzFTi6KBSXHzxiHBp/lZ9agTS1pbvvddZq47zQfIRgH2ozx2sFmvcJOL7cf7AkNPluezg+GW4SlEST7HaSkpAVLMTDN94NDNnaYL3BcWEoYHCeWEgLHjaU8g5OApTyBk4KlXMFJwlKO4KySTRSWcgSrNtgtmVgq0BeHbCzlGxwHlvIFjgtLqU4bP3sGrl7qf+f6Bgx73mt0487l5iFax2zb42NkXnU78K37iiDRjbs6uwHR6AqOA0v5kRJmrmc4aD3LxLPxBNFoSYwrcrBpg2/erxFWqVsSKQQz6EhJHEpNzXyxPXMCuwyWhiRnKfrhlt74BrRpEiKr3wkIAAAAAElFTkSuQmCC\"","import en from 'i18n/locales/en.json';\n\nexport default {\n  en,\n};\n","import i18next from 'i18next';\nimport { initReactI18next } from 'react-i18next';\n\nimport locales from 'i18n/locales';\n\n// adds the default namespace ('translation') to resources object per i18next documentation\nconst resources = Object.keys(locales).reduce(\n  (acc, lang) => ({ ...acc, [lang]: { translation: locales[lang] } }),\n  {}\n);\n\ni18next.use(initReactI18next).init({\n  fallbackLng: 'en',\n  resources,\n  interpolation: {\n    escapeValue: false,\n  },\n});\n","import React from 'react';\n\nexport const KeycloakContext = React.createContext(null);\n\nexport function withKeycloak(WrappedComponent) {\n  return function ComponentWithKeycloak(props) {\n    return (\n      <KeycloakContext.Consumer>\n        {/* eslint-disable-next-line react/jsx-props-no-spreading */}\n        {value => <WrappedComponent {...props} keycloak={value} />}\n      </KeycloakContext.Consumer>\n    );\n  };\n}\n","export const AuthenticatedView = ({ children, keycloak }) => {\n  const authenticated = keycloak.initialized && keycloak.authenticated;\n  return authenticated ? children : null;\n};\n\nexport const UnauthenticatedView = ({ children, keycloak }) => {\n  const authenticated = keycloak.initialized && keycloak.authenticated;\n  return !authenticated ? children : null;\n};\n","import PropTypes from 'prop-types';\n\nconst keycloakType = PropTypes.shape({\n  initialized: PropTypes.bool,\n  authenticated: PropTypes.bool,\n});\n\nexport default keycloakType;\n","import PropTypes from 'prop-types';\n\nconst seedscardType = PropTypes.shape({\n  id: PropTypes.number,\n\n  accountNumber: PropTypes.string,\n  balance: PropTypes.number,\n  userId: PropTypes.string,\n});\n\nexport default seedscardType;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core/styles';\nimport { compose } from 'recompose';\nimport seedscardType from 'components/__types__/seedscard';\nimport seedscardIcon from 'assets/Framecredit-card.png';\n\nconst styles = () => ({\n  SeedsCard: {\n    display: 'block !important',\n    height: '300px',\n    background: '#ffffff',\n    padding: '10%',\n    boxShadow: '0 0 18px rgba(0, 0, 0, 0.25)',\n    borderRadius: '20px',\n    transition: '0.3s ease',\n    '&:hover': {\n      height: '300px',\n      background: '#7ab7740d',\n      boxShadow: '0 0 18px #7ab774',\n      padding: '10%',\n      borderRadius: '20px',\n    },\n  },\n  SeedsCard__icon: {},\n  SeedsCard__header: {\n    display: 'flex',\n    alignItems: 'baseline',\n    position: 'relative',\n    '& *': {\n      backgroundColor: 'transparent !important',\n    },\n  },\n  SeedsCard__title: {\n    fontWeight: '500',\n    fontSize: '30px',\n    color: '#0e6837',\n    margin: '0 20px',\n    lineHeight: '35px',\n  },\n  SeedsCard__value: {\n    fontSize: '16px',\n    color: '#c7c7c7',\n    lineHeight: '33px',\n  },\n  SeedsCard__action: {\n    position: 'absolute',\n    right: '0',\n    top: '19%',\n    color: '#c7c7c7',\n  },\n  SeedsCard__balance: {\n    fontWeight: '500',\n    fontSize: '50px',\n    color: '#000000',\n    margin: '10% 0 0 0',\n  },\n  SeedsCard__balanceCaption: {\n    fontWeight: '500',\n    fontSize: '18px',\n    color: '#c7c7c7',\n  },\n  SeedsCard__balanceReward: {\n    fontWeight: '500',\n    fontSize: '18px',\n    color: '#c7c7c7',\n  },\n  SeedsCard__balanceRewardValue: {\n    fontWeight: '500',\n    fontSize: '18px',\n    color: '#000000',\n  },\n});\n\nconst SeedscardDetails = ({ classes, t, account, onDetail, cardname }) => {\n  const header = (\n    <div className={classes.SeedsCard__header}>\n      <img alt=\"interest account icon\" className={classes.SeedsCard__icon} src={seedscardIcon} />\n      <div className={classes.SeedsCard__title}>\n        {t('common.widgetName', {\n          widgetNamePlaceholder: cardname.replace(/^\\w/, c => c.toUpperCase()),\n        })}\n      </div>\n      <div className={classes.SeedsCard__value}>\n        ...\n        {account &&\n          account.id &&\n          account.accountNumber.substring(\n            account.accountNumber.length - 4,\n            account.accountNumber.length\n          )}\n      </div>\n      <div className={classes.SeedsCard__action}>\n        <i className=\"fas fa-ellipsis-v\" />\n      </div>\n    </div>\n  );\n\n  return (\n    // eslint-disable-next-line jsx-a11y/click-events-have-key-events,jsx-a11y/no-static-element-interactions\n    <div\n      onClick={account && account.id ? () => onDetail({ cardname, accountID: account.id }) : null}\n    >\n      <div className={classes.SeedsCard}>\n        {account && account.id ? (\n          <>\n            {header}\n            <p className={classes.SeedsCard__balance}>\n              ${account.balance.toString().replace(/\\B(?<!\\.\\d)(?=(\\d{3})+(?!\\d))/g, ',')}\n            </p>\n            <p className={classes.SeedsCard__balanceCaption}>Balance</p>\n            {account.rewardPoints && (\n              <p className={classes.SeedsCard__balanceReward}>\n                Reward Points:{' '}\n                <span className={classes.SeedsCard__balanceRewardValue}>\n                  {account.rewardPoints}\n                </span>\n              </p>\n            )}\n          </>\n        ) : (\n          <>\n            {header}\n            <p className={classes.SeedsCard__balanceCaption}>\n              You don&apos;t have a {cardname} account\n            </p>\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n\nSeedscardDetails.propTypes = {\n  classes: PropTypes.shape({\n    SeedsCard: PropTypes.string.isRequired,\n    SeedsCard__header: PropTypes.string.isRequired,\n    SeedsCard__icon: PropTypes.string.isRequired,\n    SeedsCard__title: PropTypes.string.isRequired,\n    SeedsCard__value: PropTypes.string.isRequired,\n    SeedsCard__action: PropTypes.string.isRequired,\n    SeedsCard__balance: PropTypes.string.isRequired,\n    SeedsCard__balanceCaption: PropTypes.string.isRequired,\n    SeedsCard__balanceReward: PropTypes.string.isRequired,\n    SeedsCard__balanceRewardValue: PropTypes.string.isRequired,\n  }).isRequired,\n  account: seedscardType,\n  t: PropTypes.func.isRequired,\n  onDetail: PropTypes.func.isRequired,\n  cardname: PropTypes.string.isRequired,\n};\n\nSeedscardDetails.defaultProps = {\n  account: null,\n};\n\nexport default compose(\n  withStyles(styles, { withTheme: true }),\n  withTranslation()\n)(SeedscardDetails);\n","/* eslint-disable react/jsx-props-no-spreading */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Snackbar } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\nimport MuiAlert from '@material-ui/lab/Alert';\n\nfunction Alert(props) {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nconst styles = {};\n\nconst autoHideDurations = {\n  success: 3000,\n  error: null,\n  info: 5000,\n};\n\nconst Notification = ({ status: passedStatus, message, onClose }) => {\n  const isOpen = !!message;\n\n  console.log(isOpen);\n  console.log(message);\n\n  const status = passedStatus || Notification.INFO;\n  const autoHideDuration = autoHideDurations[status];\n\n  return (\n    <Snackbar open={isOpen} autoHideDuration={autoHideDuration} onClose={onClose}>\n      <Alert onClose={onClose} severity={status}>\n        {message}\n      </Alert>\n    </Snackbar>\n  );\n};\n\nNotification.SUCCESS = 'success';\nNotification.ERROR = 'error';\nNotification.INFO = 'info';\n\nNotification.propTypes = {\n  status: PropTypes.oneOf([Notification.SUCCESS, Notification.ERROR, Notification.INFO]),\n  message: PropTypes.string,\n  onClose: PropTypes.func,\n};\n\nNotification.defaultProps = {\n  message: null,\n  status: Notification.INFO,\n  onClose: () => this.setState({ open: false }),\n};\n\nexport default withStyles(styles, { withTheme: true })(Notification);\n","import { DOMAIN } from 'api/constants';\n\nconst getKeycloakToken = () => {\n  if (\n    window &&\n    window.entando &&\n    window.entando.keycloak &&\n    window.entando.keycloak.authenticated\n  ) {\n    return window.entando.keycloak.token;\n  }\n  return '';\n};\n\nconst defaultOptions = () => {\n  const token = getKeycloakToken();\n\n  return {\n    headers: new Headers({\n      Authorization: `Bearer ${token}`,\n      'Content-Type': 'application/json',\n    }),\n  };\n};\n\nconst executeFetch = (params = {}) => {\n  const { url, options } = params;\n  return fetch(url, {\n    method: 'GET',\n    ...defaultOptions(),\n    ...options,\n  })\n    .then(response =>\n      response.status >= 200 && response.status < 300\n        ? Promise.resolve(response)\n        : Promise.reject(new Error(response.statusText || response.status))\n    )\n    .then(response => response.json());\n};\n\nexport const getSeedscard = (params = {}) => {\n  const { id, options, cardname } = params;\n\n  const url = `${DOMAIN}${DOMAIN.endsWith('/') ? '' : '/'}banking/api/${cardname}s/${id}`;\n\n  return executeFetch({ url, options });\n};\n\nexport const getSeedscardByUserID = (params = {}) => {\n  const { userID, options, cardname } = params;\n\n  const url = `${DOMAIN}${DOMAIN.endsWith('/') ? '' : '/'}banking/api/${cardname}s/user/${userID}`;\n\n  return executeFetch({ url, options });\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withTranslation } from 'react-i18next';\nimport { ThemeProvider } from '@material-ui/styles';\nimport { createMuiTheme } from '@material-ui/core';\n\nimport keycloakType from 'components/__types__/keycloak';\nimport { withKeycloak } from 'auth/KeycloakContext';\nimport { AuthenticatedView, UnauthenticatedView } from 'auth/KeycloakViews';\nimport SeedscardDetails from 'components/SeedscardDetails';\nimport Notification from 'components/common/Notification';\nimport { getSeedscardByUserID } from 'api/seedscard';\n\nclass SeedscardDetailsContainer extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loading: true,\n      account: null,\n      notificationStatus: null,\n      notificationMessage: null,\n    };\n\n    this.theme = createMuiTheme();\n    this.closeNotification = this.closeNotification.bind(this);\n    this.fetchData = this.fetchData.bind(this);\n  }\n\n  componentDidMount() {\n    const { keycloak } = this.props;\n    const authenticated = keycloak.initialized && keycloak.authenticated;\n\n    if (authenticated) {\n      this.fetchData({ firstCall: true });\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const { keycloak } = this.props;\n    const authenticated = keycloak.initialized && keycloak.authenticated;\n\n    const changedAuth = prevProps.keycloak.authenticated !== authenticated;\n\n    if (authenticated && changedAuth) {\n      this.fetchData({ firstCall: true });\n    }\n  }\n\n  fetchData({ firstCall }) {\n    const { onError, t, keycloak, cardname, onDetail } = this.props;\n    const authenticated = keycloak.initialized && keycloak.authenticated;\n    const userID = keycloak.idTokenParsed.preferred_username;\n\n    if (authenticated) {\n      if (userID) {\n        getSeedscardByUserID({ userID, cardname })\n          .then(account => {\n            this.setState({\n              notificationStatus: null,\n              notificationMessage: null,\n              account,\n            });\n            if (cardname === 'checking' && firstCall) {\n              onDetail({ cardname, accountID: account.id });\n            }\n          })\n          .catch(e => {\n            onError(e);\n            // this.setState({\n            //   notificationStatus: Notification.ERROR,\n            //   notificationMessage: t('common.couldNotFetchData'),\n            // });\n          })\n          .finally(() => this.setState({ loading: false }));\n      } else {\n        this.setState({\n          loading: false,\n          notificationStatus: Notification.ERROR,\n          notificationMessage: t('common.missingId'),\n        });\n      }\n    }\n  }\n\n  closeNotification() {\n    this.setState({\n      notificationStatus: null,\n      notificationMessage: null,\n    });\n  }\n\n  render() {\n    const { account, notificationStatus, notificationMessage, loading } = this.state;\n    const { t, keycloak, onDetail, cardname } = this.props;\n\n    return (\n      <ThemeProvider theme={this.theme}>\n        <UnauthenticatedView keycloak={keycloak}>\n          {t('common.notAuthenticated')}\n        </UnauthenticatedView>\n        <AuthenticatedView keycloak={keycloak}>\n          {loading && t('common.loading')}\n          {!loading && (\n            <SeedscardDetails account={account} onDetail={onDetail} cardname={cardname} />\n          )}\n        </AuthenticatedView>\n        <Notification\n          status={notificationStatus}\n          message={notificationMessage}\n          onClose={this.closeNotification}\n        />\n      </ThemeProvider>\n    );\n  }\n}\n\nSeedscardDetailsContainer.propTypes = {\n  onError: PropTypes.func,\n  t: PropTypes.func.isRequired,\n  keycloak: keycloakType.isRequired,\n  onDetail: PropTypes.func.isRequired,\n  cardname: PropTypes.string.isRequired,\n};\n\nSeedscardDetailsContainer.defaultProps = {\n  onError: () => {},\n};\n\nexport default withKeycloak(withTranslation()(SeedscardDetailsContainer));\n","// eslint-disable-next-line import/prefer-default-export\nexport const DOMAIN = process.env.REACT_APP_DOMAIN;\n","export const publishWidgetEvent = (eventId, payload) => {\n  const widgetEvent = new CustomEvent(eventId, {\n    detail: {\n      payload,\n    },\n  });\n  window.dispatchEvent(widgetEvent);\n};\n\nexport const createWidgetEventPublisher = eventType => payload =>\n  publishWidgetEvent(eventType, payload);\n\nexport const subscribeToWidgetEvent = (eventType, eventHandler) => {\n  window.addEventListener(eventType, eventHandler);\n\n  return () => {\n    window.removeEventListener(eventType, eventHandler);\n  };\n};\n\nexport const subscribeToWidgetEvents = (widgetEvents, eventHandler) => {\n  widgetEvents.forEach(eventType => window.addEventListener(eventType, eventHandler));\n\n  return () => {\n    widgetEvents.forEach(eventType => window.removeEventListener(eventType, eventHandler));\n  };\n};\n\nexport const widgetEventToFSA = widgetEvent => {\n  // for info about Flux Standard Action (FSA) see https://github.com/redux-utilities/flux-standard-action\n  const {\n    type,\n    detail: { payload, error, meta },\n  } = widgetEvent;\n  return { type, payload, error, meta };\n};\n","// eslint-disable-next-line import/prefer-default-export\nexport const KEYCLOAK_EVENT_TYPE = 'keycloak';\n\nexport const OUTPUT_EVENT_TYPES = {\n  transactionsDetail: 'seedscard.transactionsDetail',\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport i18next from 'i18next';\n\nimport { KeycloakContext } from 'auth/KeycloakContext';\nimport SeedscardDetailsContainer from 'components/SeedscardDetailsContainer';\nimport { createWidgetEventPublisher, subscribeToWidgetEvent } from 'helpers/widgetEvents';\nimport { OUTPUT_EVENT_TYPES, KEYCLOAK_EVENT_TYPE } from 'custom-elements/widgetEventTypes';\n\nconst getKeycloakInstance = () =>\n  (window &&\n    window.entando &&\n    window.entando.keycloak && { ...window.entando.keycloak, initialized: true }) || {\n    initialized: false,\n  };\n\nconst ATTRIBUTES = {\n  cardname: 'cardname',\n};\n\nclass SeedscardDetailsElement extends HTMLElement {\n  onDetail = createWidgetEventPublisher(OUTPUT_EVENT_TYPES.transactionsDetail);\n\n  constructor(...args) {\n    super(...args);\n\n    this.mountPoint = null;\n    this.unsubscribeFromKeycloakEvent = null;\n    this.keycloak = getKeycloakInstance();\n  }\n\n  static get observedAttributes() {\n    return Object.values(ATTRIBUTES);\n  }\n\n  attributeChangedCallback(cardname, oldValue, newValue) {\n    if (!Object.values(ATTRIBUTES).includes(cardname)) {\n      throw new Error(`Untracked changed attribute: ${cardname}`);\n    }\n    if (this.mountPoint && newValue !== oldValue) {\n      this.render();\n    }\n  }\n\n  connectedCallback() {\n    this.mountPoint = document.createElement('div');\n    this.appendChild(this.mountPoint);\n\n    const locale = this.getAttribute('locale') || 'en';\n    i18next.changeLanguage(locale);\n\n    this.keycloak = { ...getKeycloakInstance(), initialized: true };\n\n    this.unsubscribeFromKeycloakEvent = subscribeToWidgetEvent(KEYCLOAK_EVENT_TYPE, () => {\n      this.keycloak = { ...getKeycloakInstance(), initialized: true };\n      this.render();\n    });\n\n    this.render();\n  }\n\n  render() {\n    const customEventPrefix = 'seedscard.details.';\n    const cardname = this.getAttribute(ATTRIBUTES.cardname);\n\n    const onError = error => {\n      const customEvent = new CustomEvent(`${customEventPrefix}error`, {\n        details: {\n          error,\n        },\n      });\n      this.dispatchEvent(customEvent);\n    };\n\n    const ReactComponent = React.createElement(SeedscardDetailsContainer, {\n      cardname,\n      onError,\n      onDetail: this.onDetail,\n    });\n    ReactDOM.render(\n      <KeycloakContext.Provider value={this.keycloak}>{ReactComponent}</KeycloakContext.Provider>,\n      this.mountPoint\n    );\n  }\n\n  disconnectedCallback() {\n    if (this.unsubscribeFromKeycloakEvent) {\n      this.unsubscribeFromKeycloakEvent();\n    }\n  }\n}\n\ncustomElements.define('seedscard-details', SeedscardDetailsElement);\n","import 'i18n/i18n';\nimport 'custom-elements/SeedscardDetailsElement';\n\nimport Notification from 'components/common/Notification';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <h1>test</h1>\n      <Notification status=\"success\" message=\"test\" onClose={() => {}} />\n    </div>\n  );\n}\n\nconst rootElement = document.getElementById('app');\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}