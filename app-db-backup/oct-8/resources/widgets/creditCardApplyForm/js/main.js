(window["webpackJsonpcredit-card-user-form-widget"]=window["webpackJsonpcredit-card-user-form-widget"]||[]).push([[0],{164:function(e){e.exports=JSON.parse('{"error":{"dataLoading":"Error during server connection"},"common":{"save":"Save","dataSaved":"Data successfully saved","notAuthenticated":"User is not authenticated.","selectFile":"Upload new file","selectImageFile":"Upload new image","download":"Download"},"validation":{"required":"{{field}} is required"},"entities":{"creditCardUser":{"id":"ID","firstname":"entities.creditCardUser.firstname","lastname":"entities.creditCardUser.lastname","phone":"entities.creditCardUser.phone","email":"entities.creditCardUser.email","createdAt":"entities.creditCardUser.createdAt","status":"entities.creditCardUser.status"}}}')},185:function(e,t,r){e.exports=r(334)},333:function(e,t,r){},334:function(e,t,r){"use strict";r.r(t);var a=r(50),n=r(51),i=r(58),o=r(31),s=r(52),c=r(176),d=r(33),l=r(0),u=r.n(l),m=r(6),p=r.n(m),f=r(157),b=r.n(f),h=r(370),C=r(375),g=r(368),v=r(175),O=r(12),y=u.a.createContext(null);var w=r(35),E=r(110),j=r(57),F={en:r(164)};function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}var U=Object.keys(F).reduce((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(r,!0).forEach((function(t){Object(d.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,Object(d.a)({},t,Object(d.a)({},"translation",F[t])))}),{}),k=E.a.t,S=function(e){!function(e,t){E.a.use(j.a).init({defaultNs:"translation",interpolation:{escapeValue:!1},resources:U,lng:e||t,fallbackLng:t,react:{useSuspense:!1}})}(e,"en"),function(e){var t={mixed:{required:function(t){var r=t.path;return e("validation.required",{field:e("entities.creditCardUser.".concat(r))})}}};w.setLocale(t)}(k)},P=function(e){return function(t){return function(e,t){var r=new CustomEvent(e,{detail:{payload:t}});window.dispatchEvent(r)}(e,t)}},N={tableAdd:"creditCardUser.table.add",tableSelect:"creditCardUser.table.select"},T={create:"creditCardUser.form.create",update:"creditCardUser.form.update",errorCreate:"creditCardUser.form.errorCreate",errorUpdate:"creditCardUser.form.errorUpdate"},A=r(21),D=r.n(A),I=r(42),L=r(63),z="http://creditcardform-plugin-sales-demo.lab.entando.org/creditCardForm/api";function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(r,!0).forEach((function(t){Object(d.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var q=function(){return{headers:new Headers({"Content-Type":"application/json"})}},H="credit-card-users",M=function(){var e=Object(I.a)(D.a.mark((function e(t,r){var a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,r);case 2:return a=e.sent,e.abrupt("return",a.status>=200&&a.status<300?a.json():Promise.reject(new Error(a.statusText||a.status)));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),B=function(){var e=Object(I.a)(D.a.mark((function e(t){var r,a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(z,"/").concat(H,"/").concat("defaults"),a=W({},q(),{method:"POST",body:t?JSON.stringify(t):null}),e.abrupt("return",M(r,a));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=r(4),J=r(373),V=r(374),Y=r(5),G=r(371),Q=r(166),X=r.n(Q),Z=r(167),$=r.n(Z),_=r(165),ee=r.n(_),te=r(168),re=r.n(te),ae={success:ee.a,error:X.a,info:$.a},ne={error:null,info:5e3},ie=function e(t){var r=t.className,a=t.classes,n=t.status,i=t.message,o=t.onClose,s=!!i,c=n||e.INFO,d=ae[c],l=ne[c],m=u.a.createElement("span",{className:a.message},u.a.createElement(d,{className:Object(K.a)(a.icon,a.iconStatus)}),i);return u.a.createElement(J.a,{className:a.root,open:s,onClose:o,autoHideDuration:l},u.a.createElement(V.a,{className:Object(K.a)(a[c],r),message:m,action:[u.a.createElement(G.a,{key:"close","aria-label":"close",color:"inherit",onClick:o},u.a.createElement(re.a,{className:a.icon}))]}))};ie.SUCCESS="success",ie.ERROR="error",ie.defaultProps={message:null,className:"",status:ie.INFO="info",onClose:function(){}};var oe=Object(Y.a)((function(e){return{root:{bottom:"40%",width:"50%"},message:{display:"flex",alignItems:"center"},icon:{fontSize:20},iconStatus:{opacity:.9,marginRight:e.spacing(1)},success:{backgroundColor:"#184437"},error:{backgroundColor:"#184437"},info:{backgroundColor:"#184437"}}}),{withTheme:!0})(ie),se=r(2),ce=r.n(se),de=(ce.a.shape({id:ce.a.number,firstname:ce.a.string.isRequired,lastname:ce.a.string.isRequired,phone:ce.a.string,email:ce.a.string.isRequired}),ce.a.shape({firstname:ce.a.string,lastname:ce.a.string,phone:ce.a.string,email:ce.a.string}),ce.a.shape({firstname:ce.a.oneOfType([ce.a.bool,ce.a.shape()]),lastname:ce.a.oneOfType([ce.a.bool,ce.a.shape()]),phone:ce.a.oneOfType([ce.a.bool,ce.a.shape()]),email:ce.a.oneOfType([ce.a.bool,ce.a.shape()])}),ce.a.shape({firstname:ce.a.oneOfType([ce.a.string,ce.a.shape()]),lastname:ce.a.oneOfType([ce.a.string,ce.a.shape()]),phone:ce.a.oneOfType([ce.a.string,ce.a.shape()]),email:ce.a.oneOfType([ce.a.string,ce.a.shape()])}),r(174)),le=r(177),ue=r(367),me=r(369),pe={width:"100%",background:"#D8EAA0"},fe={margin:0,padding:"1% 0 "},be={fontFamily:"inherit",fontStyle:"normal",margin:"30px 0 40px 0",fontWeight:"700",fontSize:"60px",lineHeight:"59px",textAlign:"center",color:"#184437","@media (max-width: 1024px ) and (min-width: 320px) and (orientation: portrait )":{fontSize:"35px",fontWeight:"700"},"@media (min-width: 320px) and (max-width: 1024px)  and (orientation: landscape )":{fontSize:"35px",fontWeight:"700"}},he={textAlign:"center",padding:".5rem .3rem ",fontSize:"22px"},Ce={display:"block",textAlign:"left",fontSize:"18px",color:"#000000",fontWeight:"600",marginBottom:"1.2px"},ge={width:"100%",border:0,background:"#FFFFFF"},ve={textAlign:"center",margin:"2rem"},Oe={background:"#184437",fontSize:"24px",textTransform:"capitalize",color:"#fff",padding:"14px 26px",borderRadius:"0",boxShadow:"0 2px 5px 0 rgba(0,0,0,0.16), 0 2px 10px 0 rgba(0,0,0,0.12)",border:"none",cursor:"pointer",transition:".3s ease","&:hover":{background:"#184437",color:"#fff",padding:"14px 26px",borderRadius:"0",boxShadow:"0 5px 11px 0 rgba(0,0,0,0.18), 0 4px 15px 0 rgba(0,0,0,0.15)",border:"none",cursor:"pointer"}},ye={padding:"0 26% ",margin:"-20px 0","@media (max-width: 1024px ) and (min-width: 320px) and (orientation: portrait )":{padding:"0 4%"},"@media (min-width: 320px) and (max-width: 1024px)  and (orientation: landscape )":{padding:"0 5%"}},we=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(n.a)(t,[{key:"componentDidUpdate",value:function(e,t,r){var a=this.props,n=a.resetForm;a.reset!==e.reset&&n({})}},{key:"render",value:function(){var e=this.props,t=e.classes,r=e.values,a=e.handleChange,n=e.handleSubmit,i=e.t,o=e.touched,s=e.errors,c=function(e){return s[e]&&o[e]?s[e]:""};return u.a.createElement("div",{className:t.CreditCardUserFormContainer},u.a.createElement("form",{onSubmit:function(e){e.stopPropagation(),n(e)},className:t.CreditCardUserFormForm,"data-testid":"creditCardUser-form"},u.a.createElement("h2",{className:t.CreditCardUserFormTitle},"Let's get started"),u.a.createElement(ue.a,{container:!0,className:t.CreditCardUserFormWrapper},u.a.createElement(ue.a,{item:!0,xs:12,md:6,className:t.CreditCardUserFormInput},u.a.createElement("label",{className:t.CreditCardUserFormLabel},"First Name"),u.a.createElement(me.a,{id:"creditCardUser-firstname",error:s.firstname&&o.firstname,helperText:c("firstname"),className:t.CreditCardUserFormTextField,onChange:a,value:r.firstname||"",name:"firstname",placeholder:"First Name",InputProps:{className:t.CreditCardUserFormInput}})),u.a.createElement(ue.a,{item:!0,xs:12,md:6,className:t.CreditCardUserFormInput},u.a.createElement("label",{className:t.CreditCardUserFormLabel},"Last Name"),u.a.createElement(me.a,{id:"creditCardUser-lastname",error:s.lastname&&o.lastname,helperText:c("lastname"),className:t.CreditCardUserFormTextField,onChange:a,value:r.lastname||"",name:"lastname",placeholder:"First Name",InputProps:{className:t.CreditCardUserFormInput}})),u.a.createElement(ue.a,{item:!0,xs:12,md:6,className:t.CreditCardUserFormInput},u.a.createElement("label",{className:t.CreditCardUserFormLabel},"Phone Number"),u.a.createElement(me.a,{id:"creditCardUser-phone",className:t.CreditCardUserFormTextField,error:s.phone&&o.phone,helperText:c("phone"),onChange:a,value:r.phone||"",name:"phone",placeholder:"Telephone",InputProps:{className:t.CreditCardUserFormInput}})),u.a.createElement(ue.a,{item:!0,xs:12,md:6,className:t.CreditCardUserFormInput},u.a.createElement("label",{className:t.CreditCardUserFormLabel},"Email"),u.a.createElement(me.a,{id:"creditCardUser-email",error:s.email&&o.email,helperText:c("email"),className:t.CreditCardUserFormTextField,onChange:a,value:r.email||"",name:"email",placeholder:"Email address",InputProps:{className:t.CreditCardUserFormInput}})),u.a.createElement(ue.a,{item:!0,xs:!0,className:t.CreditCardUserFormBtnwrapper},u.a.createElement("button",{className:t.CreditCardUserFormBtnsubmit,type:"submit",color:"primary"},i("Apply Now"))))))}}]),t}(l.PureComponent);we.defaultProps={classes:{},values:{},touched:{},errors:{}};var Ee={firstname:"",lastname:"",phone:"",email:"",createdAt:null,status:""},je={mapPropsToValues:function(e){return e.creditCardUser||Ee},enableReinitialize:!0,validationSchema:w.object().shape({firstname:w.string().required(),lastname:w.string().required(),phone:w.string(),email:w.string().required(),createdAt:null,status:""}),handleSubmit:function(e,t){var r=t.setSubmitting;(0,t.props.onSubmit)(e),r(!1)},displayName:"CreditCardUserForm"},Fe=Object(le.a)(Object(Y.a)((function(){return{CreditCardUserFormContainer:pe,CreditCardUserFormTitle:be,CreditCardUserFormLabel:Ce,CreditCardUserFormTextField:ge,CreditCardUserFormBtnwrapper:ve,CreditCardUserFormBtnsubmit:Oe,CreditCardUserFormWrapper:ye,CreditCardUserFormForm:fe,CreditCardUserFormInput:he}}),{withTheme:!0}),Object(j.b)(),Object(de.a)(je))(we),xe=function(e){function t(e){var r;return Object(a.a)(this,t),(r=Object(i.a)(this,Object(o.a)(t).call(this,e))).state={resetForm:!1,notificationMessage:null,notificationStatus:null},r.closeNotification=r.closeNotification.bind(Object(L.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(L.a)(r)),r}return Object(s.a)(t,e),Object(n.a)(t,[{key:"closeNotification",value:function(){this.setState({notificationMessage:null,notificationStatus:null})}},{key:"handleSubmit",value:function(){var e=Object(I.a)(D.a.mark((function e(t){var r,a,n,i;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.props,a=r.t,n=r.onCreate,e.prev=1,e.next=4,B(t);case 4:i=e.sent,n(i),this.setState((function(e){return{notificationMessage:a("Thank you for applying!\nYour Credit Card application will be reviewed by our team as soon as possible.\nHave a nice day!"),notificationStatus:oe.SUCCESS,resetForm:!e.resetForm}})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),this.handleError(e.t0);case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handleError",value:function(e){var t=this.props,r=t.onError,a=t.t;r(e),this.setState({notificationMessage:a("error.dataLoading"),notificationStatus:oe.ERROR})}},{key:"render",value:function(){var e=this.state,t=e.notificationMessage,r=e.notificationStatus,a=e.resetForm;return u.a.createElement(u.a.Fragment,null,u.a.createElement(Fe,{reset:a,onSubmit:this.handleSubmit}),u.a.createElement(oe,{status:r,message:t,onClose:this.closeNotification}))}}]),t}(l.PureComponent);xe.defaultProps={onError:function(){},onCreate:function(){}};var Ue,ke=(Ue=Object(j.b)()(xe),function(e){return u.a.createElement(y.Consumer,null,(function(t){return u.a.createElement(Ue,Object.assign({},e,{keycloak:t}))}))});function Se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Se(r,!0).forEach((function(t){Object(d.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Se(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ne=function(){return window&&window.entando&&window.entando.keycloak&&Pe({},window.entando.keycloak,{initialized:!0})||{initialized:!1}},Te={id:"id",hidden:"hidden",locale:"locale",disableDefaultEventHandler:"disable-default-event-handler"},Ae=function(e){function t(){var e,r;Object(a.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(r=Object(i.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(s)))).keycloak=Ne(),r.onCreate=P(T.create),r.onUpdate=P(T.update),r.onErrorCreate=P(T.errorCreate),r.onErrorUpdate=P(T.errorUpdate),r}return Object(s.a)(t,e),Object(n.a)(t,[{key:"attributeChangedCallback",value:function(e,t,r){if(this.mountPoint&&t!==r){if(!Object.values(Te).includes(e))throw new Error("Untracked changed attribute: ".concat(e));this.render()}}},{key:"connectedCallback",value:function(){var e=this;this.mountPoint=document.createElement("div");var t,r,a=this.attachShadow({mode:"open"});a.appendChild(this.mountPoint),this.jss=Object(O.b)(Pe({},Object(h.a)(),{insertionPoint:this.mountPoint})),this.muiTheme=Object(v.a)({props:{MuiDialog:{container:this.mountPoint},MuiPopover:{container:this.mountPoint}}}),this.keycloak=Pe({},Ne(),{initialized:!0}),this.unsubscribeFromKeycloakEvent=(t="keycloak",r=function(){e.keycloak=Pe({},Ne(),{initialized:!0}),e.render()},window.addEventListener(t,r),function(){window.removeEventListener(t,r)}),this.render(),b()(a)}},{key:"disconnectedCallback",value:function(){this.unsubscribeFromWidgetEvents&&this.unsubscribeFromWidgetEvents(),this.unsubscribeFromKeycloakEvent&&this.unsubscribeFromKeycloakEvent()}},{key:"defaultWidgetEventHandler",value:function(){var e=this;return function(t){var r=N.tableAdd,a=N.tableSelect,n=Te.id;switch(t.type){case r:e.setAttribute(n,"");break;case a:e.setAttribute(n,t.detail.payload.id);break;default:throw new Error("Unsupported event: ".concat(t.type))}}}},{key:"render",value:function(){if("true"===this.getAttribute(Te.hidden))p.a.render(u.a.createElement(u.a.Fragment,null));else{var e,t,r=this.getAttribute(Te.locale);if(S(r),"true"===this.getAttribute(Te.disableDefaultEventHandler))this.unsubscribeFromWidgetEvents&&this.unsubscribeFromWidgetEvents(),this.unsubscribeFromKeycloakEvent&&this.unsubscribeFromKeycloakEvent();else{var a=this.defaultWidgetEventHandler();this.unsubscribeFromWidgetEvents=(e=Object.values(N),t=a,e.forEach((function(e){return window.addEventListener(e,t)})),function(){e.forEach((function(e){return window.removeEventListener(e,t)}))})}var n=u.a.createElement(ke,{onCreate:this.onCreate,onError:this.onErrorCreate},null);p.a.render(u.a.createElement(y.Provider,{value:this.keycloak},u.a.createElement(C.b,{jss:this.jss},u.a.createElement(g.a,{theme:this.muiTheme},n))),this.mountPoint)}}}],[{key:"observedAttributes",get:function(){return Object.values(Te)}}]),t}(Object(c.a)(HTMLElement));customElements.define("credit-card-user-form",Ae);r(333)}},[[185,1,2]]]);
//# sourceMappingURL=main.958161e8.chunk.js.map