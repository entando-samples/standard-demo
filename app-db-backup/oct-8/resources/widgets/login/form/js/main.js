(window["webpackJsonpuser-form-widget"]=window["webpackJsonpuser-form-widget"]||[]).push([[0],{102:function(e,t,a){e.exports=a.p+"static/media/bg.e4a2ae99.png"},183:function(e){e.exports=JSON.parse('{"error":{"dataLoading":"Error during server connection"},"common":{"save":"Save","dataSaved":"Data successfully saved","notAuthenticated":"User is not authenticated.","selectFile":"Upload new file","selectImageFile":"Upload new image","download":"Download"},"validation":{"required":"{{field}} is required"},"entities":{"user":{"id":"ID","username":"entities.user.username","email":"entities.user.email","password":"entities.user.password"}}}')},189:function(e,t){e.exports="data:image/png;base64,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"},205:function(e,t,a){e.exports=a(355)},354:function(e,t,a){},355:function(e,t,a){"use strict";a.r(t);var n=a(14),r=a(15),s=a(17),o=a(16),i=a(192),c=a(31),l=a(0),u=a.n(l),m=a(10),d=a.n(m),p=a(176),b=a.n(p),f=a(404),g=a(407),h=a(402),w=a(191),v=a(22),E=u.a.createContext(null);var x=a(25),y=a(74),P=a(128),k=a(8),O={en:a(183)},j=Object.keys(O).reduce((function(e,t){return Object(c.a)({},e,Object(y.a)({},t,Object(y.a)({},"translation",O[t])))}),{}),N=P.a.t,C=function(e){!function(e,t){P.a.use(k.a).init({defaultNs:"translation",interpolation:{escapeValue:!1},resources:j,lng:e||t,fallbackLng:t,react:{useSuspense:!1}})}(e,"en"),function(e){var t={mixed:{required:function(t){var a=t.path;return e("validation.required",{field:e("entities.user.".concat(a))})}}};x.setLocale(t)}(N)},S=function(e){return function(t){return function(e,t){var a=new CustomEvent(e,{detail:{payload:t}});window.dispatchEvent(a)}(e,t)}},A={tableAdd:"user.table.add",tableSelect:"user.table.select"},U="user.form.create",V="user.form.update",F="user.form.errorCreate",R="user.form.errorUpdate",T="user.form.errorLogin",M=a(11),L=a(4),q=a(405),z=a(406),W=a(393),I=a(103),D=a(5),B=a(388),G={success:3e3,error:null},H=function e(t){var a=t.className,n=t.classes,r=t.status,s=t.message,o=t.onClose,i=!!s,c=r||e.INFO,l=G[c],m=u.a.createElement("div",{className:n.message},u.a.createElement("h2",null,"Wrong Credentials"),u.a.createElement("p",{style:{color:"#ababab"}},s),u.a.createElement(B.a,{className:n.button,fullWidth:!0,key:"close","aria-label":"close",color:"inherit",onClick:o},"Try again"));return u.a.createElement(q.a,{open:i,className:n.backdrop},u.a.createElement(z.a,{className:n.snack,open:i,onClose:o,autoHideDuration:l},u.a.createElement(W.a,{className:Object(L.a)(n[c],a),message:m})))};H.SUCCESS="success",H.ERROR="error",H.defaultProps={message:null,className:"",status:H.INFO="info",onClose:function(){}};var J=Object(D.a)((function(e){return{backdrop:{color:"#ffffff",zIndex:"999999999"},snack:{borderRadius:"4px",width:"311px",height:"264px",position:"absolute",bottom:"45%","@media (max-width: 600px)":{left:"20%"}},message:{textAlign:"center"},button:{backgroundColor:"#000000",color:"#ffffff",marginTop:"32px",marginBottom:"32px",width:"247px"},icon:{fontSize:20},iconStatus:{opacity:.9,marginRight:e.spacing(1)},success:{backgroundColor:I.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:"#ffffff",color:"#000000"}}}),{withTheme:!0})(H),K=a(9),Y=a.n(K),Z=a(26),X=a(394),Q=a(403),$=a(2),_=a.n($),ee=(_.a.shape({id:_.a.number,username:_.a.string,email:_.a.string,password:_.a.string.isRequired}),_.a.shape({username:_.a.string,email:_.a.string,password:_.a.string}),_.a.shape({username:_.a.oneOfType([_.a.bool,_.a.shape()]),email:_.a.oneOfType([_.a.bool,_.a.shape()]),password:_.a.oneOfType([_.a.bool,_.a.shape()])}),_.a.shape({username:_.a.oneOfType([_.a.string,_.a.shape()]),email:_.a.oneOfType([_.a.string,_.a.shape()]),password:_.a.oneOfType([_.a.string,_.a.shape()])}),a(46)),te=a(21),ae=a(395),ne=a(396),re=a(397),se=a(398),oe=a(399),ie=a(195),ce={margin:"24px",width:"calc(100% - 48px)",backgroundColor:"#000000",color:"#ffffff",padding:"0.75em"},le={margin:"24px",width:"calc(100% - 48px)",backgroundColor:"#b2b2b2",color:"#ffffff",padding:"0.75em"},ue={position:"absolute",bottom:"23px",left:"0",width:"100%",borderTop:"1px solid #cccccc"},me={position:"absolute",bottom:"8px",left:"121px",right:"121px",height:"5px",borderRadius:"100px",backgroundColor:"#000000"},de={backgroundColor:"#ffffff",color:"#000000",boxShadow:"none",borderBottom:"1px solid #cccccc"},pe={display:"inline-block",width:"25%",textAlign:"left"},be={display:"inline-block",width:"49%",textAlign:"center"},fe={display:"inline-block",width:"25%",textAlign:"right"},ge={display:"inline-block",textAlign:"center",width:"42px",height:"42px",borderRadius:"2px",backgroundColor:"#eeeeee"},he={fontWeight:"bold",opacity:"0.85"},we={color:"#cccccc",opacity:"0.85"},ve=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){var n=this.props,r=n.resetForm;n.resetFormValues!==e.resetFormValues&&r({})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.values,n=e.touched,r=e.errors,s=e.handleChange,o=e.handleBlur,i=e.handleSubmit,c=e.t,l=e.passwordVisible,m=e.setPasswordVisible,d=e.handleMouseDownPassword,p=e.goForgotPassword,b=function(e){return r[e]&&n[e]?r[e]:""},f=a.field&&""!==a.password;return u.a.createElement(u.a.Fragment,null,u.a.createElement("form",{onSubmit:function(e){e.stopPropagation(),i(e)},className:t.root,"data-testid":"user-form"},u.a.createElement("div",{style:{textAlign:"center"}},u.a.createElement("h2",{className:t.title},"Welcome to App Name")),u.a.createElement(X.a,{container:!0,spacing:2,className:t.container},u.a.createElement(X.a,{item:!0,xs:12,sm:12},u.a.createElement(Q.a,{id:"field",error:r.field&&n.field,helperText:b("field"),className:t.textField,onChange:s,onBlur:o,value:a.field||"",name:"field",label:c("E-mail or username"),variant:"filled",InputProps:{type:a.field&&a.field.includes("@")?"email":"text"}})),u.a.createElement(X.a,{item:!0,xs:12,sm:12},u.a.createElement(Q.a,{id:"user-password",error:r.password&&n.password,helperText:b("password"),className:t.textField,onChange:s,onBlur:o,value:a.password||"",name:"password",label:c("Password"),variant:"filled",InputProps:{type:l?"text":"password",endAdornment:u.a.createElement(ae.a,{position:"end"},u.a.createElement(ne.a,{"aria-label":"toggle password visibility",onClick:m,onMouseDown:d},l?u.a.createElement(re.a,null):u.a.createElement(se.a,null)))}})),u.a.createElement(X.a,{item:!0,xs:12,sm:12},u.a.createElement(ie.a,{component:"div",className:t.typography},u.a.createElement(oe.a,{href:"#",onClick:function(){return p(ft.forgotPassword)},color:"inherit",className:t.link},"Forgotten password?"))),u.a.createElement(X.a,{className:t.btnContainer,item:!0,xs:12,sm:12},u.a.createElement(B.a,{style:{color:"#ffffff"},type:"submit",fullWidth:!0,className:f?t.button:t.buttonDisabled,disabled:!f,"data-testid":"submit-btn"},c("LOGIN"))))))}}]),a}(l.PureComponent);ve.defaultProps={classes:{},values:{},touched:{},errors:{}};var Ee={field:"",password:""},xe={mapPropsToValues:function(e){return e.user||Ee},enableReinitialize:!0,validationSchema:x.object().shape({field:x.string().required(),password:x.string().required().min(8).max(25)}),handleSubmit:function(e,t){var a=t.setSubmitting;(0,t.props.onSubmit)(e),a(!1)},displayName:"LoginForm"},ye=Object(te.a)(Object(D.a)((function(e){return{root:{margin:e.spacing(2)},title:{margin:"2em auto"},textField:{width:"100%"},btnContainer:ue,buttonDisabled:le,button:ce,typography:{width:"100%",textAlign:"right"},typography1:{width:"100%",textAlign:"right",color:"#cccccc"},link:{color:"#000000"}}}),{withTheme:!0}),Object(k.b)(),Object(ee.a)(xe))(ve),Pe="http://login-plugin-sales-demo.lab.entando.org/login/api",ke=function(){return{headers:new Headers({"Content-Type":"application/json"})}},Oe=function(){var e=Object(Z.a)(Y.a.mark((function e(t,a){var n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,a);case 2:return n=e.sent,e.abrupt("return",n.status>=200&&n.status<300?n.json():Promise.reject(new Error(n.statusText||n.status)));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),je=function(){var e=Object(Z.a)(Y.a.mark((function e(t){var a,n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(Pe,"/").concat("appusers","/").concat(t,"/temp"),n=Object(c.a)({},ke(),{method:"GET"}),e.abrupt("return",Oe(a,n));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(Z.a)(Y.a.mark((function e(t){var a,n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(Pe,"/").concat("appusers","/username?username=").concat(t),n=Object(c.a)({},ke(),{method:"GET"}),e.abrupt("return",Oe(a,n));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(Z.a)(Y.a.mark((function e(t){var a,n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(Pe,"/").concat("appusers","/email?email=").concat(t),n=Object(c.a)({},ke(),{method:"GET"}),e.abrupt("return",Oe(a,n));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Se=function(){var e=Object(Z.a)(Y.a.mark((function e(t){var a,n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(Pe,"/").concat("appusers"),n=Object(c.a)({},ke(),{method:"POST",body:t?JSON.stringify(t):null}),e.abrupt("return",Oe(a,n));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(Z.a)(Y.a.mark((function e(t){var a,n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(Pe,"/").concat("appusers"),n=Object(c.a)({},ke(),{method:"PUT",body:t?JSON.stringify(t):null}),e.abrupt("return",Oe(a,n));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ue=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={resetFormValues:!1,temporaryPassword:"MyT3mp0raryP4ssword!",passwordVisible:!1,notificationMessage:null,notificationStatus:null},r.setPasswordVisible=r.setPasswordVisible.bind(Object(M.a)(r)),r.closeNotification=r.closeNotification.bind(Object(M.a)(r)),r.handleMouseDownPassword=r.handleMouseDownPassword.bind(Object(M.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(M.a)(r)),r}return Object(r.a)(a,[{key:"setPasswordVisible",value:function(){this.setState((function(e){return{passwordVisible:!e.passwordVisible}}))}},{key:"handleMouseDownPassword",value:function(e){e.preventDefault()}},{key:"closeNotification",value:function(){this.setState((function(){return{notificationMessage:null}}))}},{key:"handleError",value:function(e){var t=this.props,a=t.t,n=t.onError;e&&"Not Found"===e.message&&(n(e),this.setState((function(){return{notificationMessage:a("There was an error with your E-mail and Password combination.\n Please try again. ")}})))}},{key:"handleSubmit",value:function(){var e=Object(Z.a)(Y.a.mark((function e(t){var a,n,r,s,o,i,c,l;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.field.includes("@")?Ce:Ne,n=this.props,r=n.t,s=n.goHomePage,o=n.setUser,i=n.goResetPassword,c=this.state.temporaryPassword,e.prev=3,e.next=6,a(t.field);case 6:(l=e.sent)&&(t.password===c?(o(l),i(ft.resetPassword)):t.password!==c&&t.password!==l.password?this.setState({notificationMessage:r("There was an error with your E-mail and Password combination.\n Please try again. ")}):l.password===t.password?(o(l),this.setState({notificationMessage:r("Welcome back ".concat(l.username))},(function(){return s(ft.homepage)}))):l.password!==t.password&&this.setState({notificationMessage:r("There was an error with your E-mail and Password combination.\n Please try again. ")})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),this.handleError(e.t0);case 13:return e.prev=13,this.setState((function(e){return{resetFormValues:!e.resetFormValues}})),e.finish(13);case 16:case"end":return e.stop()}}),e,this,[[3,10,13,16]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.goRegister,a=e.goForgotPassword,n=e.goHomePage,r=this.state,s=r.resetFormValues,o=r.notificationMessage,i=r.notificationStatus,c=r.passwordVisible,l=r.temporaryPassword;return u.a.createElement(u.a.Fragment,null,u.a.createElement(ye,{resetFormValues:s,goRegister:t,goForgotPassword:a,goHomePage:n,temporaryPassword:l,setPasswordVisible:this.setPasswordVisible,passwordVisible:c,handleMouseDownPassword:this.handleMouseDownPassword,onSubmit:this.handleSubmit}),u.a.createElement(J,{status:i,message:o,onClose:this.closeNotification}))}}]),a}(l.PureComponent);Ue.defaultProps={onError:function(){},goHomePage:function(){},setUser:function(){},goForgotPassword:function(){},goResetPassword:function(){},goRegister:function(){}};var Ve=Object(k.b)()(Ue),Fe=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.values,n=e.touched,r=e.errors,s=e.handleChange,o=e.handleBlur,i=e.handleSubmit,c=e.t,l=function(e){return r[e]&&n[e]?r[e]:""},m=a.username,d=a.email,p=a.password,b=m&&d&&""!==p;return u.a.createElement("form",{onSubmit:function(e){e.stopPropagation(),i(e)},className:t.root,"data-testid":"user-form"},u.a.createElement(X.a,{container:!0,spacing:2},u.a.createElement(X.a,{item:!0,xs:12,sm:6},u.a.createElement(Q.a,{id:"user-username",error:r.username&&n.username,helperText:l("username"),className:t.textField,onChange:s,onBlur:o,value:a.username,name:"username",label:c("Username"),variant:"filled"})),u.a.createElement(X.a,{item:!0,xs:12,sm:6},u.a.createElement(Q.a,{id:"user-email",error:r.email&&n.email,helperText:l("email"),className:t.textField,onChange:s,onBlur:o,value:a.email,name:"email",label:c("Email"),variant:"filled"})),u.a.createElement(X.a,{item:!0,xs:12,sm:6},u.a.createElement(Q.a,{id:"user-password",error:r.password&&n.password,helperText:l("password"),className:t.textField,onChange:s,onBlur:o,value:a.password,name:"password",label:c("Password"),variant:"filled"})),u.a.createElement(X.a,{className:t.btnContainer,item:!0,xs:12,sm:6},u.a.createElement(B.a,{style:{color:"#ffffff"},className:b?t.button:t.buttonDisabled,disabled:!b,type:"submit",color:"primary","data-testid":"submit-btn"},c("Register")))))}}]),a}(l.PureComponent);Fe.defaultProps={classes:{},values:{},touched:{},errors:{}};var Re={username:"",email:"",password:""},Te={mapPropsToValues:function(e){return e.user||Re},enableReinitialize:!0,validationSchema:x.object().shape({username:x.string().required(),email:x.string().required().email(),password:x.string().required().min(8).max(16)}),handleSubmit:function(e,t){var a=t.setSubmitting;(0,t.props.onSubmit)(e),a(!1)},displayName:"UserForm"},Me=Object(te.a)(Object(D.a)((function(e){return{root:{margin:e.spacing(3)},textField:{width:"100%"},btnContainer:ue,buttonDisabled:le,button:ce}}),{withTheme:!0}),Object(k.b)(),Object(ee.a)(Te))(Fe),Le=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={notificationMessage:null,notificationStatus:null},r.closeNotification=r.closeNotification.bind(Object(M.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(M.a)(r)),r}return Object(r.a)(a,[{key:"closeNotification",value:function(){this.setState({notificationMessage:null,notificationStatus:null})}},{key:"handleSubmit",value:function(){var e=Object(Z.a)(Y.a.mark((function e(t){var a,n,r,s;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props,n=a.t,r=a.onCreate,e.prev=1,e.next=4,Se(t);case 4:s=e.sent,r(s),this.setState({notificationMessage:n("User created successfully!")}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),this.handleError(e.t0);case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handleError",value:function(e){var t=this.props,a=t.onError,n=t.t;a(e),this.setState({notificationMessage:n("error.dataLoading")})}},{key:"render",value:function(){var e=this.state,t=e.notificationMessage,a=e.notificationStatus;return u.a.createElement(u.a.Fragment,null,u.a.createElement(Me,{onSubmit:this.handleSubmit}),u.a.createElement(J,{status:a,message:t,onClose:this.closeNotification}))}}]),a}(l.PureComponent);Le.defaultProps={onError:function(){},onCreate:function(){}};var qe=Object(k.b)()(Le),ze=a(190),We=a.n(ze),Ie=a(356),De=a(400),Be=a(401),Ge=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e,t=this.props,a=t.classes,n=t.values,r=t.touched,s=t.errors,o=t.handleChange,i=t.handleBlur,c=t.handleSubmit,l=t.t;return u.a.createElement(u.a.Fragment,null,u.a.createElement("form",{onSubmit:function(e){e.stopPropagation(),c(e)},className:a.root},u.a.createElement(X.a,{container:!0,spacing:2},u.a.createElement(X.a,{item:!0,xs:12,sm:12},u.a.createElement("h2",{className:a.title},"Please enter your e-mail")),u.a.createElement(X.a,{item:!0,xs:12,sm:12},u.a.createElement("p",{className:a.p},"We\u2019ll send you a new temporary password")),u.a.createElement(X.a,{item:!0,xs:12,sm:12},u.a.createElement(Q.a,{id:"user-email",type:"text",error:s.email&&r.email,helperText:(e="email",s[e]&&r[e]?s[e]:""),className:a.textField,onChange:o,onBlur:i,value:n.email,name:"email",label:l("Email"),variant:"filled"})),u.a.createElement(X.a,{className:a.lineBreak,item:!0,xs:12,sm:12},u.a.createElement(B.a,{style:{color:"#ffffff"},type:"submit",fullWidth:!0,className:""!==n.email&&n.email.includes("@")?a.button:a.buttonDisabled,color:"inherit",disabled:""===n.email,"data-testid":"submit-btn"},l("Send"))))))}}]),a}(l.PureComponent);Ge.defaultProps={classes:{},values:{},touched:{},errors:{}};var He=x.object().shape({email:x.string().required().email()}),Je={email:""},Ke={mapPropsToValues:function(e){return e.email||Je},enableReinitialize:!0,validationSchema:He,handleSubmit:function(e,t){var a=t.setSubmitting;(0,t.props.onSubmit)(e),a(!1)},displayName:"ForgotPasswordForm"},Ye=Object(te.a)(Object(Ie.a)((function(e){return{root:{margin:e.spacing(2)},textField:{width:"100%"},buttonDisabled:le,button:ce,title:{textAlign:"center"},p:{textAlign:"center",color:"#ababab"},lineBreak:ue}}),{withTheme:!0}),Object(k.b)(),Object(ee.a)(Ke))(Ge),Ze=a(58),Xe=a.n(Ze),Qe=a(102),$e=a.n(Qe),_e=function(e){var t=e.title,a=e.message,n=e.btnAction,r=e.classes;return u.a.createElement("div",{className:r.root},u.a.createElement(X.a,{container:!0,spacing:2,className:r.background},u.a.createElement(X.a,{item:!0,xs:12,sm:12},u.a.createElement(Xe.a,{className:r.img})),u.a.createElement(X.a,{item:!0,xs:12,sm:12},u.a.createElement("h2",{className:r.title},t),u.a.createElement("p",{className:r.p},a)),u.a.createElement(X.a,{className:r.btnContainer,item:!0,xs:12,sm:12},u.a.createElement(B.a,{className:r.button,onClick:n},"Login"))))};_e.defaultProps={classes:{},btnAction:function(){}};var et=Object(te.a)(Object(Ie.a)((function(e){return{root:{margin:e.spacing(2),textAlign:"center"},background:{height:"320px",backgroundImage:"url(".concat($e.a,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"},img:{marginTop:"57px",padding:"15px",width:"64px",height:"64px",borderRadius:"50%",backgroundColor:"#e5e5e5"},p:{color:"#cccccc"},btnContainer:ue,button:ce}}),{withTheme:!0}),Object(k.b)())(_e),tt=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={mailSent:!1,notificationMessage:null,notificationStatus:null},r.closeNotification=r.closeNotification.bind(Object(M.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(M.a)(r)),r}return Object(r.a)(a,[{key:"closeNotification",value:function(){this.setState((function(){return{notificationMessage:null}}))}},{key:"handleConfirm",value:function(){this.setState({mailSent:!0})}},{key:"handleSubmit",value:function(){var e=Object(Z.a)(Y.a.mark((function e(t){var a,n,r;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props.setUser,n=t.email,e.prev=2,e.next=5,je(n);case 5:r=e.sent,this.setState({mailSent:!0},(function(){return a(r)})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),this.handleError(e.t0);case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handleError",value:function(e){var t=this.props,a=t.onError,n=t.t;a(e),this.setState({notificationMessage:n("We are sorry... No user found")})}},{key:"render",value:function(){var e=this.props.goLogin,t=this.state,a=t.notificationMessage,n=t.notificationStatus,r=t.mailSent;return u.a.createElement(u.a.Fragment,null,r?u.a.createElement(u.a.Fragment,null,u.a.createElement(et,{title:"Check your email inbox",message:"We've sent you a new temporary password",btnAction:function(){return e(ft.login)}},"verify your inbox!")):u.a.createElement(Ye,{onSubmit:this.handleSubmit}),u.a.createElement(J,{status:n,message:a,onClose:this.closeNotification}))}}]),a}(l.PureComponent);tt.defaultProps={onError:function(){},classes:{}};var at=Object(te.a)(Object(Ie.a)((function(){return{appbar:de,box1:pe,box2:be,box3:fe,AppLogo:ge,app:he,logo:we}}),{withTheme:!0}),Object(k.b)())(tt),nt=(_.a.shape({tempPassword:_.a.string,password:_.a.string,confirmPassword:_.a.string.isRequired}),_.a.shape({tempPassword:_.a.string,password:_.a.string,confirmPassword:_.a.string}),_.a.shape({tempPassword:_.a.oneOfType([_.a.bool,_.a.shape()]),password:_.a.oneOfType([_.a.bool,_.a.shape()]),confirmPassword:_.a.oneOfType([_.a.bool,_.a.shape()])}),_.a.shape({tempPassword:_.a.oneOfType([_.a.string,_.a.shape()]),password:_.a.oneOfType([_.a.string,_.a.shape()]),confirmPassword:_.a.oneOfType([_.a.string,_.a.shape()])}),function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e,t=this.props,a=t.classes,n=t.values,r=t.touched,s=t.errors,o=t.handleChange,i=t.handleBlur,c=t.handleSubmit,l=t.t,m=t.passwordVisible,d=t.togglePasswordVisible,p=t.tempUser,b=new RegExp(/[$-/:-?{-~!#@*\u20ac'<>()"^_`[\]]/).test(n.password),f=new RegExp("(.*[A-Z].*)").test(n.password),g=new RegExp("(.*[a-z].*)").test(n.password),h=new RegExp("(.*[0-9].*)").test(n.password),w=b&&f&&g&&h&&n.password.length>=8&&n.password.length<=25,v=p.username.substr(0,1).toUpperCase()+p.username.substring(1,p.username.length);return u.a.createElement(u.a.Fragment,null,u.a.createElement("form",{onSubmit:function(e){e.stopPropagation(),c(e)},className:a.root},u.a.createElement(X.a,{container:!0,spacing:2},u.a.createElement(X.a,{item:!0,xs:12,sm:12},u.a.createElement("h2",{className:a.title},"Please, create a new password")),u.a.createElement(X.a,{item:!0,xs:12,sm:12,className:a.p},u.a.createElement("p",null,v,", choose a new password")),u.a.createElement(X.a,{item:!0,xs:12,sm:12},u.a.createElement(Q.a,{id:"password",type:"password",error:s.password&&r.password,helperText:(e="password",s[e]&&r[e]?s[e]:""),className:a.textField,onChange:o,onBlur:i,value:n.password,name:"password",label:l("Password"),variant:"filled",InputProps:{type:m?"text":"password",endAdornment:u.a.createElement(ae.a,{position:"end"},u.a.createElement(ne.a,{"aria-label":"toggle password visibility",onClick:d,onMouseDown:function(e){return e.preventDefault()}},m?u.a.createElement(re.a,null):u.a.createElement(se.a,null)))}})),u.a.createElement(X.a,{className:a.box,item:!0,xs:12,sm:12},u.a.createElement("p",null,"Your password must contain at least 8 characters with:"),u.a.createElement("div",{className:f?a.validIcon:a.notValidIcon},u.a.createElement(Xe.a,null)," 1 uppercase"),u.a.createElement("div",{className:b?a.validIcon:a.notValidIcon},u.a.createElement(Xe.a,null)," 1 symbol"),u.a.createElement("div",{className:g?a.validIcon:a.notValidIcon},u.a.createElement(Xe.a,null)," 1 lowercase"),u.a.createElement("div",{className:h?a.validIcon:a.notValidIcon},u.a.createElement(Xe.a,null)," 1 number")),u.a.createElement(X.a,{className:a.lineBreak,item:!0,xs:12,sm:12},u.a.createElement(B.a,{style:{color:"#ffffff"},type:"submit",fullWidth:!0,className:w?a.button:a.buttonDisabled,disabled:!w,"data-testid":"submit-btn"},"Login")))))}}]),a}(l.PureComponent));nt.defaultProps={classes:{},values:{},touched:{},errors:{}};var rt={password:""},st={mapPropsToValues:function(e){return e.user||rt},enableReinitialize:!0,validationSchema:x.object().shape({password:x.string().required().min(8).max(25)}),handleSubmit:function(e,t){var a=t.setSubmitting;(0,t.props.onSubmit)(e),a(!1)},displayName:"ResetPasswordForm"},ot=Object(te.a)(Object(Ie.a)((function(e){return{root:{margin:e.spacing(2)},textField:{width:"100%"},buttonDisabled:le,button:ce,title:{textAlign:"center"},p:{textAlign:"center",color:"#ababab"},validIcon:{textAlign:"center",width:"50%",display:"inline-flex",alignItem:"center",justifyContent:"center"},notValidIcon:{textAlign:"center",width:"50%",display:"inline-flex",alignItem:"center",color:"#ababab",justifyContent:"center"},lineBreak:ue,box:{textAlign:"center"}}}),{withTheme:!0}),Object(k.b)(),Object(ee.a)(st))(nt),it=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={passwordVisible:!1,confirmPasswordVisible:!1,notificationMessage:null,notificationStatus:null},r.closeNotification=r.closeNotification.bind(Object(M.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(M.a)(r)),r.togglePasswordVisible=r.togglePasswordVisible.bind(Object(M.a)(r)),r.toggleConfirmPasswordVisible=r.toggleConfirmPasswordVisible.bind(Object(M.a)(r)),r}return Object(r.a)(a,[{key:"togglePasswordVisible",value:function(){this.setState((function(e){return{passwordVisible:!e.passwordVisible}}))}},{key:"toggleConfirmPasswordVisible",value:function(){this.setState((function(e){return{confirmPasswordVisible:!e.confirmPasswordVisible}}))}},{key:"closeNotification",value:function(){this.setState((function(){return{notificationMessage:null}}))}},{key:"handleSubmit",value:function(){var e=Object(Z.a)(Y.a.mark((function e(t){var a,n,r,s,o,i;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props,n=a.t,r=a.onUpdate,s=a.goHomepage,(o=a.tempUser).tempPassword===t.tempPassword){e.next=5;break}this.setState({notificationMessage:n("Wrong code")}),e.next=16;break;case 5:return e.prev=5,e.next=8,Ae({id:o.id,username:o.username,email:o.email,password:t.password});case 8:i=e.sent,r(i),this.setState({notificationMessage:n("Password successfully changed!")},(function(){return s(ft.homepage)})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),this.handleError(e.t0);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handleError",value:function(e){var t=this.props,a=t.t;(0,t.onError)(e),this.setState((function(){return{notificationMessage:a("error.dataLoading")}}))}},{key:"render",value:function(){var e=this.props,t=e.setUser,a=e.goHomepage,n=e.tempUser,r=this.state,s=r.notificationMessage,o=r.notificationStatus,i=r.passwordVisible,c=r.confirmPasswordVisible;return u.a.createElement(u.a.Fragment,null,u.a.createElement(ot,{tempUser:n,setUser:t,goHomepage:a,onSubmit:this.handleSubmit,passwordVisible:i,togglePasswordVisible:this.togglePasswordVisible,confirmPasswordVisible:c,toggleConfirmPasswordVisible:this.toggleConfirmPasswordVisible}),u.a.createElement(J,{status:o,message:s,onClose:this.closeNotification}))}}]),a}(l.PureComponent);it.defaultProps={tempUser:{},setUser:function(){},onUpdate:function(){},onError:function(){}};var ct=Object(k.b)()(it),lt=function(e){var t=e.user,a=e.classes,n=e.goWelcomePage;return u.a.createElement(u.a.Fragment,null,t&&u.a.createElement("div",{className:a.container},u.a.createElement(X.a,{container:!0,spacing:2},u.a.createElement(X.a,{container:!0,spacing:2},u.a.createElement(X.a,{item:!0,xs:12,sm:12,className:a.logoContainer},u.a.createElement("div",{className:a.AppLogo},u.a.createElement("div",{className:a.app},"APP"),u.a.createElement("div",{className:a.logo},"Logo"))),u.a.createElement(X.a,{item:!0,xs:12,sm:12},u.a.createElement("h2",null,"Welcome ",t.username),u.a.createElement("p",{className:a.p},'Now you can start using "app name"')),u.a.createElement(X.a,{item:!0,xs:12,sm:12,className:a.btnContainer},u.a.createElement(B.a,{onClick:function(){return n(ft.welcomePage)},fullWidth:!0,color:"inherit",className:a.button},"Let's start!"))))))};lt.defaultProps={classes:{},user:{},goWelcomePage:function(){}};var ut=Object(te.a)(Object(Ie.a)((function(){return{container:{textAlign:"center",margin:0,overflow:"hidden",padding:"4em 0 0 0"},logoContainer:{display:"flex",height:"454px",backgroundImage:"url(".concat($e.a,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"},AppLogo:{padding:"0",margin:"auto auto 3em auto",display:"inline-block",textAlign:"center",width:"84px",height:"84px",borderRadius:"4px",backgroundColor:"#ffffff",boxShadow:"0 0 16px 0 #eeeeee"},app:{margin:"1.5em auto auto",fontWeight:"bold"},logo:{color:"#ababab"},p:{color:"#cccccc"},btnContainer:ue,button:ce}}),{withTheme:!0}),Object(k.b)())(lt),mt=a(189),dt=a.n(mt),pt=function(e){var t=e.classes,a=e.goLogin;return u.a.createElement("div",null,u.a.createElement("span",{className:t.skip},"Skip"),u.a.createElement(X.a,{container:!0},u.a.createElement(X.a,{item:!0,xs:12,sm:12,className:t.imgContainer},u.a.createElement("img",{src:dt.a,className:t.image,alt:"background"})),u.a.createElement(X.a,{item:!0,xs:12,sm:12},u.a.createElement("h2",{className:t.title},"This is a prototype of a first login")),u.a.createElement(X.a,{item:!0,xs:12,sm:12},u.a.createElement("p",{className:t.p},"Navigate through the login and password recovery screens. At the end of the flow you will return here.")),u.a.createElement(X.a,{item:!0,xs:12,sm:12,className:t.dotsContainer},u.a.createElement("span",{className:t.dot},"."),u.a.createElement("span",{className:t.dot},"."),u.a.createElement("span",{className:t.dotSelected},".")),u.a.createElement(X.a,{item:!0,xs:12,sm:12,className:t.btnContainer},u.a.createElement(B.a,{onClick:function(){return a(ft.login)},className:t.button},"Login"))))};pt.defaultProps={classes:{},goLogin:function(){}};var bt=Object(te.a)(Object(Ie.a)((function(){return{skip:{position:"absolute",top:"5%",right:"5%",fontSize:"16px",fontWeight:"bold"},imgContainer:{textAlign:"center",background:"#eeeeee",height:"475px",display:"flex"},image:{width:"87px",height:"72px",color:"#cccccc",margin:"auto"},title:{width:"233px",height:"64px",margin:"1em auto 0",textAlign:"center"},p:{color:"#ababab",margin:"1em auto",width:"50%",textAlign:"center"},dotsContainer:{textAlign:"center"},dot:{textAlign:"center",fontSize:"50px",color:"#cccccc"},dotSelected:{fontSize:"80px"},btnContainer:ue,button:ce}}),{withTheme:!0}),Object(k.b)())(pt),ft={welcomePage:"welcome",login:"Login",forgotPassword:"Forgot password",register:"Register",homepage:"Homepage",resetPassword:"Reset Password"},gt=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={user:null,page:"welcome"},r.setPage=r.setPage.bind(Object(M.a)(r)),r.setUser=r.setUser.bind(Object(M.a)(r)),r.handleArrowBack=r.handleArrowBack.bind(Object(M.a)(r)),r}return Object(r.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){var n=this.state,r=n.user,s=n.page;s&&s!==t.page&&this.getElement(),r&&r!==t.user&&this.getElement()}},{key:"setPage",value:function(e){this.setState({page:e})}},{key:"setUser",value:function(e){this.setState({user:e})}},{key:"getElement",value:function(){var e=this.props,t=e.onCreate,a=e.onErrorCreate,n=e.onUpdate,r=e.onErrorUpdate,s=this.state,o=s.page,i=s.user,c=u.a.createElement(Ve,{goRegister:this.setPage});switch(o){case ft.welcomePage:c=u.a.createElement(bt,{goLogin:this.setPage});break;case ft.login:c=u.a.createElement(Ve,{setUser:this.setUser,goRegister:this.setPage,goForgotPassword:this.setPage,goHomePage:this.setPage,goResetPassword:this.setPage});break;case ft.register:c=u.a.createElement(qe,{onCreate:t,onError:a});break;case ft.forgotPassword:c=u.a.createElement(at,{setUser:this.setUser,goLogin:this.setPage});break;case ft.homepage:c=i&&u.a.createElement(ut,{goWelcomePage:this.setPage,user:i});break;case ft.resetPassword:c=u.a.createElement(ct,{goHomepage:this.setPage,tempUser:i,onUpdate:n,onError:r})}return c}},{key:"handleArrowBack",value:function(){var e=this.state.page;(e&&e===ft.register||e&&e===ft.forgotPassword||e&&e===ft.homepage||e&&e===ft.resetPassword)&&this.setPage(ft.login)}},{key:"render",value:function(){var e=this.state.page,t=this.props.classes;return u.a.createElement(u.a.Fragment,null,e===ft.welcomePage||e===ft.homepage?null:u.a.createElement(De.a,{className:t.appbar,position:"static"},u.a.createElement(Be.a,null,u.a.createElement("div",{className:t.box1},u.a.createElement(We.a,{onClick:this.handleArrowBack})),u.a.createElement("div",{className:t.box2},e===ft.resetPassword?"Login":e),u.a.createElement("div",{className:t.box3},u.a.createElement("div",{className:t.AppLogo},u.a.createElement("div",{className:t.app},"APP"),u.a.createElement("div",{className:t.logo},"Logo"))))),this.getElement(),u.a.createElement("div",{className:t.bottom}))}}]),a}(l.PureComponent);gt.defaultProps={classes:{},onCreate:function(){},onErrorCreate:function(){},onUpdate:function(){},onErrorUpdate:function(){}};var ht=Object(te.a)(Object(Ie.a)((function(){return{appbar:de,box1:pe,box2:be,box3:fe,AppLogo:ge,app:he,logo:we,bottom:me}}),{withTheme:!0}),Object(k.b)())(gt),wt=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={notificationMessage:null,notificationStatus:null},r.closeNotification=r.closeNotification.bind(Object(M.a)(r)),r}return Object(r.a)(a,[{key:"closeNotification",value:function(){this.setState((function(){return{notificationMessage:null}}))}},{key:"render",value:function(){var e=this.state,t=e.notificationMessage,a=e.notificationStatus,n=e.loggedInMock,r=this.props,s=r.onCreate,o=r.onErrorCreate,i=r.onUpdate,c=r.onErrorUpdate;return u.a.createElement(u.a.Fragment,null,u.a.createElement(ht,{onCreate:s,onUpdate:i,onErrorCreate:o,onErrorUpdate:c,loggedInMock:n}),u.a.createElement(J,{status:a,message:t,onClose:this.closeNotification}))}}]),a}(l.PureComponent);wt.defaultProps={onCreate:function(){},onUpdate:function(){},onErrorCreate:function(){},onErrorUpdate:function(){}};var vt,Et=(vt=Object(k.b)()(wt),function(e){return u.a.createElement(E.Consumer,null,(function(t){return u.a.createElement(vt,Object.assign({},e,{keycloak:t}))}))}),xt=function(){return window&&window.entando&&window.entando.keycloak&&Object(c.a)({},window.entando.keycloak,{initialized:!0})||{initialized:!1}},yt={id:"id",hidden:"hidden",locale:"locale",disableDefaultEventHandler:"disable-default-event-handler"},Pt=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).keycloak=xt(),e.onCreate=S(U),e.onUpdate=S(V),e.onErrorCreate=S(F),e.onErrorUpdate=S(R),e.onErrorLogin=S(T),e}return Object(r.a)(a,[{key:"attributeChangedCallback",value:function(e,t,a){if(this.mountPoint&&t!==a){if(!Object.values(yt).includes(e))throw new Error("Untracked changed attribute: ".concat(e));this.render()}}},{key:"connectedCallback",value:function(){var e=this;this.mountPoint=document.createElement("div");var t,a,n=this.attachShadow({mode:"open"});n.appendChild(this.mountPoint),this.jss=Object(v.b)(Object(c.a)({},Object(f.a)(),{insertionPoint:this.mountPoint})),this.muiTheme=Object(w.a)({props:{MuiDialog:{container:this.mountPoint},MuiPopover:{container:this.mountPoint}}}),this.keycloak=Object(c.a)({},xt(),{initialized:!0}),this.unsubscribeFromKeycloakEvent=(t="keycloak",a=function(){e.keycloak=Object(c.a)({},xt(),{initialized:!0}),e.render()},window.addEventListener(t,a),function(){window.removeEventListener(t,a)}),this.render(),b()(n)}},{key:"disconnectedCallback",value:function(){this.unsubscribeFromWidgetEvents&&this.unsubscribeFromWidgetEvents(),this.unsubscribeFromKeycloakEvent&&this.unsubscribeFromKeycloakEvent()}},{key:"defaultWidgetEventHandler",value:function(){var e=this;return function(t){var a=A.tableAdd,n=A.tableSelect,r=yt.id;switch(t.type){case a:e.setAttribute(r,"");break;case n:e.setAttribute(r,t.detail.payload.id);break;default:throw new Error("Unsupported event: ".concat(t.type))}}}},{key:"render",value:function(){if("true"===this.getAttribute(yt.hidden))d.a.render(u.a.createElement(u.a.Fragment,null));else{var e,t,a=this.getAttribute(yt.locale);if(C(a),"true"===this.getAttribute(yt.disableDefaultEventHandler))this.unsubscribeFromWidgetEvents&&this.unsubscribeFromWidgetEvents(),this.unsubscribeFromKeycloakEvent&&this.unsubscribeFromKeycloakEvent();else{var n=this.defaultWidgetEventHandler();this.unsubscribeFromWidgetEvents=(e=Object.values(A),t=n,e.forEach((function(e){return window.addEventListener(e,t)})),function(){e.forEach((function(e){return window.removeEventListener(e,t)}))})}d.a.render(u.a.createElement(E.Provider,{value:this.keycloak},u.a.createElement(g.b,{jss:this.jss},u.a.createElement(h.a,{theme:this.muiTheme},u.a.createElement(Et,{onCreate:this.onCreate,onUpdate:this.onUpdate,onErrorUpdate:this.onErrorUpdate,onErrorCreate:this.onErrorCreate})))),this.mountPoint)}}}],[{key:"observedAttributes",get:function(){return Object.values(yt)}}]),a}(Object(i.a)(HTMLElement));customElements.define("user-form",Pt);a(354)}},[[205,1,2]]]);
//# sourceMappingURL=main.440789df.chunk.js.map